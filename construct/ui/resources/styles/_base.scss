// Base theme
// A Mixin used to generate subthemes
@mixin base(
    $primary: #CC4455,
    $on_primary: #000000,
    $surface: #FFFFFF,
    $on_surface: #000000,
    $bg: $background,
    $on_bg: $on_background
) {


    // Base Style //


    background: $surface;

    * {
        color: $on_surface;
    }

    QFrame#line {
        color: $bg;
    }

    // Menu Style //

    QMenu {
        background-color: $surface;
        border: $border-style $bg;
        menu-scrollable: 1;

        &::icon {
            padding: 8px 8px 8px 8px;
            min-width: 24px
        }

        &::item {
            padding: 8px 8px 8px 24px;
            background-color: $transparent;
            min-width: 144px;
        }

        &::item:selected {
            background-color: fade-out($primary, 0.55);
            border: $border-style fade-out($primary, 0.55);
        }

        &::item:pressed {
            color: $on_primary;
            background-color: $primary;
        }
    }


    // Icons and Button Styles //

    #icon {
        outline: none;
        border: 0;
        padding: 0;
        margin: 0;
    }

    QPushButton[type="text"] {
        padding: 8px 16px 8px 16px;
        border: $border-style vary($surface, 10%);
        border-radius: $border-radius;

        &:disabled {
            color: vary($surface, 15%);
        }
        &:hover {
            color: $on_primary;
            background-color: set_alpha($primary, 0.45);
            border: $border-style $primary;
        }
        &:focus {
            outline: none;
            border: $border-style $primary;
        }
        &:pressed, &:checked {
            color: $on_primary;
            background-color: $primary;
            border: $border-style $primary;
        }
    }

    QPushButton[type="icon"] {
        outline: none;
        padding: 0;
        margin: 0;
        border: 0;
        border-radius: $border-radius;

        &:disabled {
            color: vary($surface, 15%);
        }
        &:hover {
            background-color: set_alpha($primary, 0.45);
            border: $border-style $primary;
        }
        &:focus {
            outline: none;
            border: $border-style $primary;
        }
        &:pressed, &:checked {
            background-color: $primary;
            border: $border-style $primary;
        }
    }

    // Controls //

    QLineEdit {
        border: $border-style $background;
        border-radius: 1px;
        background: $surface;
        color: $on_surface;
        padding: 4px 8px 4px 8px;

        &:focus {
            border: $border-style $primary;
            border-radius: $border-radius;
            background: $surface;
            color: $on_surface;
            padding: 0px 8px 0px 8px;
        }
    }



    // Navigation crumbs //


    #crumbs {
        margin: 0;
        padding: 0;
    }

    #crumb {
        margin: 0;
        padding: 0;
        border-radius: 1;

        &:hover {
            color: $on_primary;
            background-color: set_alpha($primary, 0.65);
        }

        QPushButton {
            margin: 0;
            padding: 0px 8px 0px 8px;
            border-radius: 1px;

            &:disabled {
                color: vary($surface, 15%);
            }
            &:hover {
                color: $on_primary;
                border: $border-style $primary;
            }
            &:focus {
                outline: none;
                border: $border-style $primary;
            }
            &:pressed {
                color: $on_primary;
                background-color: $primary;
            }
            &::menu-indicator {
                image: resource("icons/arrow_right_solid.svg");
                width: 12px;
                height: 12px;
                subcontrol-origin: padding;
                subcontrol-position: center;
            }

            &::menu-indicator:pressed,
            &::menu-indicator:open {
                image: resource("icons/arrow_down_solid.svg");
                width: 12px;
                height: 12px;
                subcontrol-origin: padding;
                subcontrol-position: center;
            }
        }
    }

    #bookmarks {
        QPushButton {
            padding: 6px 8px 6px 8px;
            border: 0;
            border-radius: $border-radius;

            &:disabled {
                border: 0;
                color: vary($surface, 15%);
            }
            &:hover {
                color: $on_primary;
                background-color: set_alpha($primary, 0.45);
                border: $border-style $primary;
            }
            &:focus {
                outline: none;
                border: $border-style $primary;
            }
            &:pressed {
                color: $on_primary;
                background-color: $primary;
                border: $border-style $primary;
            }
        }
    }

    QTreeView,
    QListView,
    QTableView,
    QColumnView {
        show-decoration-selected: 1;
        background: $transparent;
        border: 0;
        outline: none;

        &:disabled {
            border: 0;
            color: vary($surface, 15%);
        }

        &::item {
            padding: 6px 8px 6px 8px;
            background-color: $transparent;
        }

        &::item:pressed {
            color: $on_primary;
            background-color: $primary;
        }

        &::item:selected:hover {
            color: $on_primary;
            background-color: set_alpha($primary, 0.45);
            border: $border-style $primary;
        }

        &::item:selected:active {
            color: $on_primary;
            background-color: $primary;
        }

        &::item:!selected:hover {
            color: $on_primary;
            background-color: set_alpha($primary, 0.55);
            border: $border-style $primary;
        }
    }

    QScrollBar {

        &:vertical {
            border: 0;
            background: $background;
            width: 8px;
            padding: 2px;
            margin: 8px 0px 8px 0px;
        }
        &::handle:vertical {
            background: set_alpha($on_background, 0.75);
            border: 0;
            border-radius: 2px;
        }
        &::handle:vertical:hover {
            background: $on_background;
            border: 0;
            border-radius: 2px;
        }
        &::add-line:vertical {
            border: 0;
            background: $background;
            height: 8px;
            subcontrol-position: bottom;
            subcontrol-origin: margin;
        }

        &::sub-line:vertical {
             border: 0;
             background: $background;
             height: 8px;
             subcontrol-position: top;
             subcontrol-origin: margin;
        }
        &::up-arrow:vertical {}

        &::down-arrow:vertical {}

        &::add-page:vertical, &::sub-page:vertical {
            background: none;
        }

        &:horizontal {
            border: 0;
            background: $background;
            height: 8px;
            padding: 2px;
            margin: 0px 8px 0px 8px;
        }
        &::handle:horizontal {
            background: set_alpha($on_background, 0.75);
            border: 0;
            border-radius: 2px;
        }
        &::handle:horizontal:hover {
            background: $on_background;
            border: 0;
            border-radius: 2px;
        }
        &::add-line:horizontal {
            border: 0;
            background: $background;
            width: 8px;
            subcontrol-position: right;
            subcontrol-origin: margin;
        }

        &::sub-line:horizontal {
             border: 0;
             background: $background;
             width: 8px;
             subcontrol-position: left;
             subcontrol-origin: margin;
        }
        &::left-arrow:horizontal {}

        &::right-arrow:horizontal {}

        &::add-page:horizontal, &::sub-page:horizontal {
            background: none;
        }
    }


}
